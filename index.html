<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Monero Examples by moneroexamples</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Monero Examples</h1>
      <h2 class="project-tagline">compile-monero-09-on-ubuntu-16-04</h2>
      <a href="https://github.com/moneroexamples/compile-monero-09-on-ubuntu-16-04" class="btn">View on GitHub</a>
      <a href="https://github.com/moneroexamples/compile-monero-09-on-ubuntu-16-04/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/moneroexamples/compile-monero-09-on-ubuntu-16-04/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="compile-monero-09-on-ubuntu-1604-x64-final-beta" class="anchor" href="#compile-monero-09-on-ubuntu-1604-x64-final-beta" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Compile Monero 0.9 on Ubuntu 16.04 x64 Final Beta</h1>

<p>The example shows how to compile the current github version of <a href="https://getmonero.org/">Monero</a>, as of 26 Mar 2015, on <a href="https://lists.ubuntu.com/archives/ubuntu-announce/2016-March/000206.html">Ubuntu 16.04 x64 Final Beta</a>.</p>

<h2>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dependencies</h2>

<p>Before proceeding with the compilation, the following packages are required:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># update Ubuntu's repository</span>
sudo apt-get update

<span class="pl-c">#install git to download latest Monero source code from github</span>
sudo apt-get install git

<span class="pl-c"># install dependencies to be able to compile Monero</span>
sudo apt-get install build-essential cmake libboost-all-dev miniupnpc libunbound-dev graphviz doxygen

<span class="pl-c"># or git and all dependencies in one command</span>
<span class="pl-c"># sudo apt-get install git build-essential cmake libboost-all-dev miniupnpc libunbound-dev graphviz doxygen</span></pre></div>

<h2>
<a id="compilation" class="anchor" href="#compilation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Compilation</h2>

<p>You can compile either latest version of the source code, or tagged version.
For the bleeding edge features, use the latest version. However, this might
be not stable and buggy. For stable version, compile tagged version of the
source code, e.g., v0.9.3.</p>

<h3>
<a id="latest-version-of-the-source-code" class="anchor" href="#latest-version-of-the-source-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Latest version of the source code</h3>

<p>Having the dependencies, we can download the current github Monero version and compile it as follows:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># download the latest bitmonero source code from github</span>
git clone https://github.com/monero-project/bitmonero.git

<span class="pl-c"># go into bitmonero folder</span>
<span class="pl-c1">cd</span> bitmonero/

<span class="pl-c"># compile</span>
make <span class="pl-c"># or make -j number_of_threads, e.g., make -j 2</span>

<span class="pl-c"># alternatively `make release` can be used instead of `make`. This compiles</span>
<span class="pl-c"># the source code without compiling unique tests which is faster, and can</span>
<span class="pl-c"># avid problems if there are compilation errors with compiling the tests</span></pre></div>

<p>Please not that this is a current version of Monero on github, <strong>not the official and stable
release</strong>. Thus, as the development of Monero continues virtually on daily basis, sometimes
things can break, including the compilation procedure provided.
To avoid this, please use the source code and binary files of the official and stable release of
Monero which can be found <a href="https://github.com/monero-project/bitmonero/releases/latest">here</a>.</p>

<h3>
<a id="stable-tagged-version" class="anchor" href="#stable-tagged-version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Stable tagged version</h3>

<p>The latest version of the source code can contain many bugs, as its not yet
officially released. Thus, one can compile official tagged version, e.g., <strong>0.9.3</strong>:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># download the latest bitmonero source code from github</span>
git clone https://github.com/monero-project/bitmonero.git

<span class="pl-c"># go into bitmonero folder</span>
<span class="pl-c1">cd</span> bitmonero/

<span class="pl-c"># list all tags</span>
git tag

<span class="pl-c"># select which version to checkout.</span>
<span class="pl-c"># For example, to checkout tag v0.9.3</span>
git checkout -b v0.9.3

<span class="pl-c"># compile</span>
make <span class="pl-c"># or make -j number_of_threads, e.g., make -j 2</span>

<span class="pl-c"># alternatively `make release` can be used instead of `make`. This compiles</span>
<span class="pl-c"># the source code without compiling unique tests which is faster, and can</span>
<span class="pl-c"># avid problems if there are compilation errors with compiling the tests</span></pre></div>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>After successful compilation, the Monero binaries should be located in <code>./build/release/bin</code> as shown below:</p>

<div class="highlight highlight-source-shell"><pre>./build/release/bin/
├── bitmonerod
├── blockchain_converter
├── blockchain_dump
├── blockchain_export
├── blockchain_import
├── cn_deserialize
├── connectivity_tool
├── simpleminer
└── simplewallet</pre></div>

<p>I usually move the binaries into <code>/opt/bitmonero/</code> folder. This can be done as follows:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># optional</span>
sudo mkdir -p /opt/bitmonero
sudo mv -v ./build/release/bin/<span class="pl-k">*</span> /opt/bitmonero/</pre></div>

<p>This should result in:</p>

<div class="highlight highlight-source-shell"><pre>/opt/bitmonero
├── bitmonerod
├── blockchain_converter
├── blockchain_dump
├── blockchain_export
├── blockchain_import
├── cn_deserialize
├── connectivity_tool
├── simpleminer
└── simplewallet</pre></div>

<p>Now we can start the Monero daemon, i.e., <code>bitmonerod</code>, and let it
download the blockchain and synchronize itself with the Monero network. After that, you can run your the <code>simplewallet</code>.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># launch the Monero daemon and let it synchronize with the Monero network</span>
/opt/bitmonero/bitmonerod

<span class="pl-c"># launch the Monero wallet</span>
/opt/bitmonero/simplewallet</pre></div>

<h2>
<a id="useful-aliases-with-rlwrap" class="anchor" href="#useful-aliases-with-rlwrap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Useful aliases (with rlwrap)</h2>

<p><code>bitmonerod</code> and <code>simplewallet</code> do not have tab-compliton nor history.
This problem can be overcome using <a href="https://github.com/hanslub42/rlwrap">rlwrap</a>.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># install rlwrap</span>
sudo apt-get install rlwrap

<span class="pl-c"># download bitmonerod and simplewallet commands files</span>
wget -O <span class="pl-k">~</span>/.bitmonero/monerocommands_bitmonerod.txt https://raw.githubusercontent.com/moneroexamples/compile-monero-09-on-xubuntu-16-04-beta-1/master/monerocommands_bitmonerod.txt
wget -O <span class="pl-k">~</span>/.bitmonero/monerocommands_simplewallet.txt https://raw.githubusercontent.com/moneroexamples/compile-monero-09-on-xubuntu-16-04-beta-1/master/monerocommands_simplewallet.txt

<span class="pl-c"># add aliases to .bashrc</span>
<span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>alias moneronode='rlwrap -f ~/.bitmonero/monerocommands_simplewallet.txt /opt/bitmonero/bitmonerod'<span class="pl-pds">"</span></span> <span class="pl-k">&gt;&gt;</span> <span class="pl-k">~</span>/.bashrc
<span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>alias monerowallet='rlwrap -f ~/.bitmonero/monerocommands_bitmonerod.txt /opt/bitmonero/simplewallet'<span class="pl-pds">"</span></span> <span class="pl-k">&gt;&gt;</span> <span class="pl-k">~</span>/.bashrc

<span class="pl-c"># reload .bashrc</span>
<span class="pl-c1">source</span> <span class="pl-k">~</span>/.bashrc</pre></div>

<p>With this, we can just start the daemon and wallet simply using
<code>moneronode</code> and <code>monerowallet</code> commands. <code>rlwrap</code> will provide
tab-complition and history for the monero programs.</p>

<h2>
<a id="example-screenshot" class="anchor" href="#example-screenshot" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example screenshot</h2>

<p><img src="https://github.com/moneroexamples/compile-monero-09-on-ubuntu-16-04/blob/master/imgs/ubuntu_screen.jpg" alt="Ubuntu Screeshot"></p>

<h2>
<a id="monero-c11-development-optional" class="anchor" href="#monero-c11-development-optional" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Monero C++11 development (optional)</h2>

<p>If you want to develop your own C++11 programs on top of Monero 0.9,
Monero's static libraries and headers will be needed. Below is shown
how they can be setup for use to write your own C++11 programs based
on Monero. An example of such a program is  <a href="https://github.com/moneroexamples/access-blockchain-in-cpp">access-blockchain-in-cpp</a>.</p>

<h3>
<a id="monero-static-libraries" class="anchor" href="#monero-static-libraries" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Monero static libraries</h3>

<p>When the compilation finishes, a number of static Monero libraries
should be generated. We will need them to link against in our C++11 programs.</p>

<p>Since they are spread out over different subfolders of the <code>./build/</code> folder, it is easier to just copy them into one folder. I assume that
 <code>/opt/bitmonero-dev/libs</code> is the folder where they are going to be copied to.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># create the folder</span>
sudo mkdir -p /opt/bitmonero-dev/libs

<span class="pl-c"># find the static libraries files (i.e., those with extension of *.a)</span>
<span class="pl-c"># and copy them to /opt/bitmonero-dev/libs</span>
<span class="pl-c"># assuming you are still in bitmonero/ folder which you downloaded from</span>
<span class="pl-c"># github</span>
sudo find ./build/ -name <span class="pl-s"><span class="pl-pds">'</span>*.a<span class="pl-pds">'</span></span> -exec cp -v {} /opt/bitmonero-dev/libs  <span class="pl-cce">\;</span></pre></div>

<p>This should results in the following file structure:</p>

<div class="highlight highlight-source-shell"><pre>/opt/bitmonero-dev/
└── libs
    ├── libblockchain_db.a
    ├── libblocks.a
    ├── libcommon.a
    ├── libcrypto.a
    ├── libcryptonote_core.a
    ├── libcryptonote_protocol.a
    ├── libdaemonizer.a
    ├── libgtest.a
    ├── libgtest_main.a
    ├── liblmdb.a
    ├── libminiupnpc.a
    ├── libmnemonics.a
    ├── libotshell_utils.a
    ├── libp2p.a
    ├── librpc.a
    └── libwallet.a</pre></div>

<h3>
<a id="monero-headers" class="anchor" href="#monero-headers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Monero headers</h3>

<p>Now we need to get Monero headers, as this is our interface to the
Monero libraries. Folder <code>/opt/bitmonero-dev/headers</code> is assumed
to hold the headers.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># create the folder</span>
sudo mkdir -p /opt/bitmonero-dev/headers

<span class="pl-c"># find the header files (i.e., those with extension of *.h)</span>
<span class="pl-c"># and copy them to /opt/bitmonero-dev/headers.</span>
<span class="pl-c"># but this time the structure of directories is important</span>
<span class="pl-c"># so rsync is used to find and copy the headers files</span>
sudo rsync -zarv --include=<span class="pl-s"><span class="pl-pds">"</span>*/<span class="pl-pds">"</span></span> --include=<span class="pl-s"><span class="pl-pds">"</span>*.h<span class="pl-pds">"</span></span> --exclude=<span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span> --prune-empty-dirs ./ /opt/bitmonero-dev/headers</pre></div>

<p>This should results in the following file structure:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># only src/ folder with up to 3 level nesting is shown</span>

/opt/bitmonero-dev/headers/src/
├── blockchain_db
│   ├── berkeleydb
│   │   └── db_bdb.h
│   ├── blockchain_db.h
│   ├── db_types.h
│   └── lmdb
│       └── db_lmdb.h
├── blockchain_utilities
│   ├── blockchain_utilities.h
│   ├── blocksdat_file.h
│   ├── bootstrap_file.h
│   ├── bootstrap_serialization.h
│   └── fake_core.h
├── blocks
│   └── blocks.h
├── common
│   ├── base58.h
│   ├── boost_serialization_helper.h
│   ├── command_line.h
│   ├── dns_utils.h
│   ├── http_connection.h
│   ├── i18n.h
│   ├── int-util.h
│   ├── pod-class.h
│   ├── rpc_client.h
│   ├── scoped_message_writer.h
│   ├── unordered_containers_boost_serialization.h
│   ├── util.h
│   └── varint.h
<span class="pl-c"># ... the rest not shown to save some space</span></pre></div>

<h2>
<a id="shortcut" class="anchor" href="#shortcut" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Shortcut</h2>

<p>The above steps (except <code>rlwrap</code> setup) where composed into one script: <a href="https://github.com/moneroexamples/compile-monero-09-on-ubuntu-16-04/blob/master/monero_ubuntu_compiler.sh"><code>monero_ubuntu_compiler.sh</code></a>.</p>

<p>The scripts requires root access and <strong>deletes ./bitmonero, /opt/bitmonero and /opt/bitmonero-dev folders</strong> if exist
prior to installation. So use it with <strong>caution</strong>!!!</p>

<p>To download and execute this script:</p>

<div class="highlight highlight-source-shell"><pre>sudo su -c <span class="pl-s"><span class="pl-pds">"</span>wget https://raw.githubusercontent.com/moneroexamples/compile-monero-09-on-ubuntu-16-04/master/monero_ubuntu_compiler.sh &amp;&amp; chmod +x monero_ubuntu_compiler.sh &amp;&amp; ./monero_ubuntu_compiler.sh<span class="pl-pds">"</span></span></pre></div>

<h2>
<a id="other-examples" class="anchor" href="#other-examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Other examples</h2>

<p>Other examples can be found on  <a href="https://github.com/moneroexamples?tab=repositories">github</a>.
Please know that some of the examples/repositories are not
finished and may not work as intended.</p>

<h2>
<a id="how-can-you-help" class="anchor" href="#how-can-you-help" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How can you help?</h2>

<p>Constructive criticism, code and website edits are always good. They can be made through github.</p>

<p>Some Monero are also welcome:</p>

<pre><code>48daf1rG3hE1Txapcsxh6WXNe9MLNKtu7W7tKTivtSoVLHErYzvdcpea2nSTgGkz66RFP4GKVAsTV14v6G3oddBTHfxP6tU
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/moneroexamples/compile-monero-09-on-ubuntu-16-04">Monero Examples</a> is maintained by <a href="https://github.com/moneroexamples">moneroexamples</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
